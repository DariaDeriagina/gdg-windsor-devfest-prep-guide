<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>DevFest Windsor 2025 â€” Sponsors</title>

		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Poppins:wght@700;800&display=swap"
			rel="stylesheet"
		/>
		<script
			src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.5/dist/dotlottie-wc.js"
			type="module"
		></script>

		<style>
			:root {
				--bg: #eaf5fa;
				--paper: #fff;
				--ink: #0b1220;
				--muted: #475569;
				--ring: rgba(2, 6, 23, 0.12);
				--shadow: 0 18px 50px rgba(15, 23, 42, 0.16);
				--halloween1: #ff8a00;
				--halloween2: #a855f7;
			}
			* {
				box-sizing: border-box;
			}
			html,
			body {
				height: 100%;
			}
			body {
				margin: 0;
				font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto,
					Helvetica, Arial;
				color: var(--ink);
				background: var(--bg);
				overflow: hidden;
			}
			.wrap {
				height: 100%;
				display: grid;
				place-items: center;
				padding: 6vmin;
			}
			.card {
				width: min(1220px, 94vw);
				height: min(80vh, 820px);
				background: var(--paper);
				border: 1px solid var(--ring);
				border-radius: 28px;
				box-shadow: var(--shadow);
				position: relative;
				overflow: hidden;
				padding: clamp(20px, 4vw, 40px);
				transform: translateY(8px) scale(0.985);
				opacity: 0;
				animation: cardIn 0.7s cubic-bezier(0.2, 0.8, 0.2, 1) 0.1s forwards;
			}
			@keyframes cardIn {
				to {
					transform: translateY(0) scale(1);
					opacity: 1;
				}
			}

			.title {
				position: absolute;
				left: 50%;
				top: clamp(18px, 3vw, 28px);
				transform: translateX(-50%);
				font-family: Poppins, Inter, ui-sans-serif;
				font-weight: 800;
				letter-spacing: 0.02em;
				font-size: clamp(20px, 2.2vw, 32px);
			}
			.subtitle {
				position: absolute;
				left: 50%;
				top: calc(clamp(18px, 3vw, 28px) + clamp(56px, 3.8vw, 70px));
				transform: translateX(-50%);
				max-width: min(60ch, 82%);
				text-align: center;
				color: var(--muted);
				font-size: clamp(13px, 1.15vw, 16px);
				letter-spacing: 0.01em;
			}
			.stage {
				position: absolute;
				inset: 0;
				padding-top: clamp(86px, 12vmin, 150px);
			}
			.monster {
				position: absolute;
				left: 50%;
				top: 50%;
				transform: translate(-50%, -50%);
				width: min(44vmin, 420px);
				aspect-ratio: 1/1;
				display: grid;
				place-items: center;
				filter: drop-shadow(0 10px 22px rgba(2, 6, 23, 0.16));
				z-index: 1;
				pointer-events: none;
			}
			.sponsor {
				position: absolute;
				left: 50%;
				top: 50%;
				transform: translate(-50%, -50%) scale(0.6);
				width: clamp(84px, 7.5vmin, 120px);
				aspect-ratio: 1/1;
				border-radius: 999px;
				display: grid;
				place-items: center;
				z-index: 3;
				background: #fff;
				border: 1px solid rgba(2, 6, 23, 0.1);
				box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.6),
					0 10px 26px rgba(15, 23, 42, 0.12);
				opacity: 0;
				will-change: transform, opacity, filter;
			}
			.sponsor:hover {
				filter: drop-shadow(0 12px 24px rgba(2, 6, 23, 0.18));
				transform: translate(-50%, -50%) scale(0.97) translateY(-2px);
			}
			.sponsor img {
				max-width: 70%;
				max-height: 70%;
				object-fit: contain;
				user-select: none;
				pointer-events: none;
				filter: saturate(0.95);
			}
			.hint {
				position: absolute;
				bottom: 64px;
				left: 50%;
				transform: translateX(-50%);
				font-size: 12px;
				color: var(--muted);
				opacity: 0.75;
				letter-spacing: 0.02em;
			}
			/* Halloween CTA */
			.cta {
				position: absolute;
				bottom: 16px;
				left: 50%;
				transform: translateX(-50%);
				background: linear-gradient(
					90deg,
					var(--halloween1),
					var(--halloween2)
				);
				color: #fff;
				border: none;
				border-radius: 999px;
				padding: 0.95rem 1.75rem;
				font-weight: 700;
				font-size: clamp(14px, 1.2vw, 16px);
				cursor: pointer;
				letter-spacing: 0.03em;
				text-transform: uppercase;
				box-shadow: 0 6px 20px rgba(168, 85, 247, 0.4);
				transition: transform 0.25s ease, box-shadow 0.25s ease;
			}
			.cta:hover {
				transform: translateY(-3px);
				box-shadow: 0 12px 28px rgba(255, 138, 0, 0.35);
			}
			.sr-only {
				position: absolute !important;
				height: 1px;
				width: 1px;
				overflow: hidden;
				clip: rect(1px, 1px, 1px, 1px);
				white-space: nowrap;
				border: 0;
				padding: 0;
				margin: -1px;
			}
			@media (max-width: 680px) {
				.sponsor {
					width: clamp(60px, 14vw, 88px);
				}
				.subtitle {
					max-width: 88%;
				}
				.hint {
					bottom: 56px;
				}
			}
		</style>
	</head>
	<body>
		<main class="wrap">
			<section class="card" id="screenSponsors" aria-label="Sponsors">
				<h1 class="title">SPONSORS</h1>
				<p class="subtitle">
					Meet the minds behind DevFest â€” the teams shaping techâ€™s future.
				</p>

				<div class="stage" id="stage" aria-live="polite">
					<div class="monster" aria-hidden="true">
						<dotlottie-wc
							src="https://lottie.host/4c3d73a5-207f-432a-b1b0-5d8585850465/d15LG7pCHl.lottie"
							style="width: 100%; height: 100%"
							autoplay
							loop
							aria-hidden="true"
						></dotlottie-wc>
					</div>
					<span class="sr-only"
						>Monster with a telescope; sponsor logos rotate around it.</span
					>
				</div>

				<button class="cta" onclick="goNext()">Whatâ€™s next?</button>
			</section>
		</main>

		<script>
			/* vertical scaling */
			if (new URLSearchParams(location.search).get("vertical")) {
				document.body.classList.add("vertical");
				const wrap = document.querySelector(".wrap");
				const scale = () =>
					(wrap.style.transform = `scale(${Math.min(
						innerWidth / 1080,
						innerHeight / 1920
					)})`);
				addEventListener("resize", scale, { passive: true });
				scale();
			}

			/* sponsors */
			const LOGO_SRC = "assets/HackforgeLogoInverted.png";
			const ITEMS = Array.from({ length: 8 }, () => ({
				src: LOGO_SRC,
				url: "",
			}));
			const mqMobile = matchMedia("(max-width:680px)");
			const isMobile = () => mqMobile.matches;
			const POP_BASE = () => (isMobile() ? 1200 : 900);
			const POP_STEP = () => (isMobile() ? 560 : 420);
			const POP_DUR = () => (isMobile() ? 1100 : 900);
			const ROT_SPEED_INNER = () =>
				((isMobile() ? 0.08 : 0.12) * Math.PI) / 180;
			const ROT_SPEED_OUTER = () =>
				(-(isMobile() ? 0.06 : 0.09) * Math.PI) / 180;
			const BOB_SPEED = 0.0025;
			const stage = document.getElementById("stage");
			let engine = null;
			const polarToXY = (r, a) => ({ x: r * Math.cos(a), y: r * Math.sin(a) });

			function buildEngine() {
				stage.querySelectorAll(".sponsor").forEach((n) => n.remove());
				const rect = stage.getBoundingClientRect();
				const base = Math.min(rect.width, rect.height);
				const wide = rect.width > 900;
				const mobile = isMobile();
				const probe = document.createElement("div");
				probe.className = "sponsor";
				probe.style.opacity = "0";
				stage.appendChild(probe);
				const bubbleD = probe.getBoundingClientRect().width || base * 0.1;
				probe.remove();
				const SAFE = Math.max(16, base * (mobile ? 0.12 : wide ? 0.1 : 0.07));
				const maxR = Math.min(rect.width, rect.height) / 2 - bubbleD / 2 - SAFE;
				const innerR = Math.max(
					34,
					Math.min(maxR, maxR * (mobile ? 0.82 : wide ? 0.72 : 0.66))
				);
				const outerR = Math.max(
					52,
					Math.min(maxR, maxR * (mobile ? 0.96 : wide ? 1.0 : 0.86))
				);
				const n = ITEMS.length,
					step = (Math.PI * 2) / n,
					start = -Math.PI / 2,
					particles = [];
				ITEMS.forEach((it, i) => {
					const node = document.createElement(it.url ? "a" : "div");
					node.className = "sponsor";
					if (it.url) {
						node.href = it.url;
						node.target = "_blank";
						node.rel = "noopener";
					}
					const img = new Image();
					img.alt = "Sponsor logo";
					img.src = it.src;
					node.appendChild(img);
					const inner = i % 2 === 0;
					const radius = inner ? innerR : outerR;
					const speed = inner ? ROT_SPEED_INNER() : ROT_SPEED_OUTER();
					const angle = start + i * step + (Math.random() * 0.3 - 0.15);
					const { x, y } = polarToXY(radius, angle);
					node.style.transform = `translate(-50%,-50%) translate(${x}px,${y}px) scale(.6)`;
					node.style.opacity = "0";
					stage.appendChild(node);
					particles.push({
						node,
						radius,
						angle,
						speed,
						bobOffset: Math.random() * Math.PI * 2,
					});
				});
				engine = { particles, startTime: performance.now(), running: false };
				popInThenStart(engine);
			}

			function popInThenStart(eng) {
				eng.particles.forEach((p, i) => {
					const { x, y } = polarToXY(p.radius, p.angle);
					const delay = POP_BASE() + i * POP_STEP() + Math.random() * 120;
					p.node.animate(
						[
							{
								opacity: 0,
								transform: `translate(-50%,-50%) translate(${x}px,${y}px) scale(.6)`,
							},
							{
								opacity: 1,
								transform: `translate(-50%,-50%) translate(${x}px,${y}px) scale(1)`,
							},
						],
						{
							duration: POP_DUR(),
							delay,
							easing: "cubic-bezier(.2,.9,.2,1)",
							fill: "forwards",
						}
					);
				});
				const total =
					POP_BASE() +
					(eng.particles.length - 1) * POP_STEP() +
					POP_DUR() +
					120;
				setTimeout(() => startRAF(eng), total);
			}

			function startRAF(eng) {
				if (eng.running) return;
				eng.running = true;
				function frame(now) {
					if (!eng.running) return;
					const t = now - eng.startTime;
					eng.particles.forEach((p) => {
						p.angle += p.speed;
						const bobX = Math.cos(t * BOB_SPEED + p.bobOffset) * 3;
						const bobY = Math.sin(t * BOB_SPEED + p.bobOffset) * 3;
						const { x, y } = polarToXY(p.radius, p.angle);
						p.node.style.transform = `translate(-50%,-50%) translate(${(
							x + bobX
						).toFixed(1)}px,${(y - bobY).toFixed(1)}px)`;
					});
					requestAnimationFrame(frame);
				}
				requestAnimationFrame(frame);
			}

			const rebuild = () => {
				clearTimeout(window.__orbitDeb);
				window.__orbitDeb = setTimeout(buildEngine, 120);
			};
			addEventListener("resize", rebuild, { passive: true });
			mqMobile.addEventListener?.("change", rebuild);
			setTimeout(buildEngine, 650);

			/* CTA action */
			function goNext() {
				alert("ðŸ‘» Up next: DevFest surprises! (link coming soon)");
			}
		</script>
	</body>
</html>
